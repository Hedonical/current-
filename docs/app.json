[{"name": "app.py", "content": "from shiny import App, render, ui, reactive\nimport flag\nfrom country_dict import countries\nfrom exchange_rate import scrape_currency_conversion\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\n\nall_countries = countries()\n\ndefault_choices = {k: f\"{flag.flag(v.code)} {v.name} {v.curr}\" for (\n    k, v) in all_countries.all.items() if \"\" in k}\n\n\napp_ui = ui.page_sidebar(\n    ui.sidebar(\n        ui.div({\"style\": \"font-weight: bold; margin-left: 2px;\"},\n               ui.input_numeric(\"am\", \"Amount\", 1, min=0)),\n        ui.div({\"style\": \"font-weight: bold; margin-left: 2px;\"},\n               ui.input_text(\"z\", \"Filter\", placeholder=\"Country Name\"),\n               ui.input_select(\"x\", \"Your Currency\", default_choices, selected=\"United States\")),\n        ui.div({\"style\": \"font-weight: bold; margin-left: 2px;\"},\n               ui.input_text(\"m\", \"Filter\", placeholder=\"Country Name\"),\n               ui.input_select(\"y\", \"Convert to\", default_choices, selected=\"Vietnam\"))),\n    ui.card(\n        ui.div(\n            {\"style\": \"text-align: center; background-color:#458f69; color:#FFFFFF\"},\n            ui.markdown(\"# Current\u00a2\"),\n        ),\n        ui.column(\n            12,\n            ui.div(\n                {\"style\": \"text-align:center\"},\n                ui.input_action_button(\"advice\", \"Advice\"),\n                ui.input_action_button(\"alert\", \"Alert Me\"),\n            ),\n        ),\n        ui.output_plot(\"historic\"),\n    ),\n)\n\n\ndef server(input, output, session):\n\n    @output\n    @render.plot\n    async def historic():\n\n        # calculate the currency conversion\n        output = await scrape_currency_conversion(all_countries.all[input.x()].curr,\n                                                  all_countries.all[input.y(\n                                                  )].curr,\n                                                  input.am())\n\n        output = output.sort_values(by='Date')\n\n        fig, ax = plt.subplots()\n        ax.plot(output[\"Date\"], output[\"Price\"])\n        ax.xaxis.set_major_locator(mdates.DayLocator(interval=2))\n        plt.xticks(rotation=40)\n\n        plt.xlabel('Date')\n        plt.ylabel(all_countries.all[input.y(\n        )].curr)\n\n        return fig\n\n    # update the Your currency input options based on text\n    @reactive.Effect\n    @reactive.event(input.z)\n    def _():\n        filter_str = input.z()\n        if filter_str == \"\":\n            return\n        filtered_input = {k: f\"{flag.flag(v.code)} {v.name} {v.curr}\" for (\n            k, v) in all_countries.all.items() if filter_str.lower() in k.lower()}\n\n        ui.update_select(\n            \"x\",\n            choices=filtered_input,\n        )\n\n    @reactive.Effect\n    @reactive.event(input.m)\n    def _():\n        filter_str = input.m()\n        if filter_str == \"\":\n            return\n\n        filtered_input = {k: f\"{flag.flag(v.code)} {v.name} {v.curr}\" for (\n            k, v) in all_countries.all.items() if filter_str.lower() in k.lower()}\n\n        ui.update_select(\n            \"y\",\n            choices=filtered_input,\n        )\n\n    @reactive.Effect\n    @reactive.event(input.advice)\n    async def _():\n        output = await scrape_currency_conversion(all_countries.all[input.x()].curr,\n                                                  all_countries.all[input.y(\n                                                  )].curr,\n                                                  input.am())\n        std_div = output[\"Price\"].std()\n\n        out_mean = output[\"Price\"].mean()\n\n        current_price = output[\"Price\"][output[\"Date\"].idxmax()]\n\n        if current_price > out_mean + std_div:\n            m = ui.modal(\n                \"\ud83d\udfe2 Conversion rates are above average, you will be receiving more resulting currency\",\n                title=\"Should you purchase?\",\n                easy_close=True,\n                footer=(ui.modal_button(\"Close\")),\n            )\n        elif current_price < out_mean - std_div:\n            m = ui.modal(\n                \"\ud83d\udd34 Conversion rates are below average, you will be receiving less resulting currency\",\n                title=\"Should you purchase?\",\n                easy_close=True,\n                footer=(ui.modal_button(\"Close\")),\n            )\n        else:\n            m = ui.modal(\n                \"\ud83d\udfe1 Conversion rates are about average, you will be receiving average resulting currency\",\n                title=\"Should you purchase?\",\n                easy_close=True,\n                footer=(ui.modal_button(\"Close\")),\n            )\n\n        ui.modal_show(m)\n\n    @reactive.Effect\n    @reactive.event(input.alert)\n    def _():\n        m = ui.modal(\n            ui.input_text(\"number\", \"Phone Number\"),\n            title=\"Enter your phone number for text alerts: \",\n            easy_close=True,\n            footer=(ui.modal_button(\"Submit\"), ui.modal_button(\"Close\")),\n        )\n        ui.modal_show(m)\n\n\napp = App(app_ui, server, debug=True)\n", "type": "text"}, {"name": "country_dict.py", "content": "import json\nimport os\nfrom pathlib import Path\n\n\n# define a class to store all of our dictionaries\nclass countries():\n    def __init__(self):\n        # read the JSON\n        with open(os.path.join(Path(__file__).parent, \"data.json\")) as json_file:\n            json_dict = json.load(json_file)\n\n        self.all = {}\n\n        for i in range(len(json_dict)):\n            self.all[json_dict[i][\"countryName\"]] = country(json_dict[i][\"countryCode\"],\n                                                            json_dict[i][\"countryName\"],\n                                                            json_dict[i][\"currencyCode\"])\n\n# define a class to store a single country\n\n\nclass country():\n    def __init__(self, code, name, curr):\n        self.code = code\n        self.name = name\n        self.curr = curr\n", "type": "text"}, {"name": "data.json", "content": "[\n  {\n    \"countryCode\": \"AD\",\n    \"countryName\": \"Andorra\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"AE\",\n    \"countryName\": \"United Arab Emirates\",\n    \"currencyCode\": \"AED\"\n  },\n  {\n    \"countryCode\": \"AF\",\n    \"countryName\": \"Afghanistan\",\n    \"currencyCode\": \"AFN\"\n  },\n  {\n    \"countryCode\": \"AG\",\n    \"countryName\": \"Antigua and Barbuda\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"AI\",\n    \"countryName\": \"Anguilla\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"AL\",\n    \"countryName\": \"Albania\",\n    \"currencyCode\": \"ALL\"\n  },\n  {\n    \"countryCode\": \"AM\",\n    \"countryName\": \"Armenia\",\n    \"currencyCode\": \"AMD\"\n  },\n  {\n    \"countryCode\": \"AO\",\n    \"countryName\": \"Angola\",\n    \"currencyCode\": \"AOA\"\n  },\n  {\n    \"countryCode\": \"AQ\",\n    \"countryName\": \"Antarctica\",\n    \"currencyCode\": \"\"\n  },\n  {\n    \"countryCode\": \"AR\",\n    \"countryName\": \"Argentina\",\n    \"currencyCode\": \"ARS\"\n  },\n  {\n    \"countryCode\": \"AS\",\n    \"countryName\": \"American Samoa\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"AT\",\n    \"countryName\": \"Austria\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"AU\",\n    \"countryName\": \"Australia\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"AW\",\n    \"countryName\": \"Aruba\",\n    \"currencyCode\": \"AWG\"\n  },\n  {\n    \"countryCode\": \"AX\",\n    \"countryName\": \"\\u00c3\\u2026land\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"AZ\",\n    \"countryName\": \"Azerbaijan\",\n    \"currencyCode\": \"AZN\"\n  },\n  {\n    \"countryCode\": \"BA\",\n    \"countryName\": \"Bosnia and Herzegovina\",\n    \"currencyCode\": \"BAM\"\n  },\n  {\n    \"countryCode\": \"BB\",\n    \"countryName\": \"Barbados\",\n    \"currencyCode\": \"BBD\"\n  },\n  {\n    \"countryCode\": \"BD\",\n    \"countryName\": \"Bangladesh\",\n    \"currencyCode\": \"BDT\"\n  },\n  {\n    \"countryCode\": \"BE\",\n    \"countryName\": \"Belgium\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"BF\",\n    \"countryName\": \"Burkina Faso\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"BG\",\n    \"countryName\": \"Bulgaria\",\n    \"currencyCode\": \"BGN\"\n  },\n  {\n    \"countryCode\": \"BH\",\n    \"countryName\": \"Bahrain\",\n    \"currencyCode\": \"BHD\"\n  },\n  {\n    \"countryCode\": \"BI\",\n    \"countryName\": \"Burundi\",\n    \"currencyCode\": \"BIF\"\n  },\n  {\n    \"countryCode\": \"BJ\",\n    \"countryName\": \"Benin\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"BL\",\n    \"countryName\": \"Saint Barth\\u00c3\\u00a9lemy\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"BM\",\n    \"countryName\": \"Bermuda\",\n    \"currencyCode\": \"BMD\"\n  },\n  {\n    \"countryCode\": \"BN\",\n    \"countryName\": \"Brunei\",\n    \"currencyCode\": \"BND\"\n  },\n  {\n    \"countryCode\": \"BO\",\n    \"countryName\": \"Bolivia\",\n    \"currencyCode\": \"BOB\"\n  },\n  {\n    \"countryCode\": \"BQ\",\n    \"countryName\": \"Bonaire\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"BR\",\n    \"countryName\": \"Brazil\",\n    \"currencyCode\": \"BRL\"\n  },\n  {\n    \"countryCode\": \"BS\",\n    \"countryName\": \"Bahamas\",\n    \"currencyCode\": \"BSD\"\n  },\n  {\n    \"countryCode\": \"BT\",\n    \"countryName\": \"Bhutan\",\n    \"currencyCode\": \"BTN\"\n  },\n  {\n    \"countryCode\": \"BV\",\n    \"countryName\": \"Bouvet Island\",\n    \"currencyCode\": \"NOK\"\n  },\n  {\n    \"countryCode\": \"BW\",\n    \"countryName\": \"Botswana\",\n    \"currencyCode\": \"BWP\"\n  },\n  {\n    \"countryCode\": \"BY\",\n    \"countryName\": \"Belarus\",\n    \"currencyCode\": \"BYR\"\n  },\n  {\n    \"countryCode\": \"BZ\",\n    \"countryName\": \"Belize\",\n    \"currencyCode\": \"BZD\"\n  },\n  {\n    \"countryCode\": \"CA\",\n    \"countryName\": \"Canada\",\n    \"currencyCode\": \"CAD\"\n  },\n  {\n    \"countryCode\": \"CC\",\n    \"countryName\": \"Cocos [Keeling] Islands\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"CD\",\n    \"countryName\": \"Democratic Republic of the Congo\",\n    \"currencyCode\": \"CDF\"\n  },\n  {\n    \"countryCode\": \"CF\",\n    \"countryName\": \"Central African Republic\",\n    \"currencyCode\": \"XAF\"\n  },\n  {\n    \"countryCode\": \"CG\",\n    \"countryName\": \"Republic of the Congo\",\n    \"currencyCode\": \"XAF\"\n  },\n  {\n    \"countryCode\": \"CH\",\n    \"countryName\": \"Switzerland\",\n    \"currencyCode\": \"CHF\"\n  },\n  {\n    \"countryCode\": \"CI\",\n    \"countryName\": \"Ivory Coast\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"CK\",\n    \"countryName\": \"Cook Islands\",\n    \"currencyCode\": \"NZD\"\n  },\n  {\n    \"countryCode\": \"CL\",\n    \"countryName\": \"Chile\",\n    \"currencyCode\": \"CLP\"\n  },\n  {\n    \"countryCode\": \"CM\",\n    \"countryName\": \"Cameroon\",\n    \"currencyCode\": \"XAF\"\n  },\n  {\n    \"countryCode\": \"CN\",\n    \"countryName\": \"China\",\n    \"currencyCode\": \"CNY\"\n  },\n  {\n    \"countryCode\": \"CO\",\n    \"countryName\": \"Colombia\",\n    \"currencyCode\": \"COP\"\n  },\n  {\n    \"countryCode\": \"CR\",\n    \"countryName\": \"Costa Rica\",\n    \"currencyCode\": \"CRC\"\n  },\n  {\n    \"countryCode\": \"CU\",\n    \"countryName\": \"Cuba\",\n    \"currencyCode\": \"CUP\"\n  },\n  {\n    \"countryCode\": \"CV\",\n    \"countryName\": \"Cape Verde\",\n    \"currencyCode\": \"CVE\"\n  },\n  {\n    \"countryCode\": \"CW\",\n    \"countryName\": \"Curacao\",\n    \"currencyCode\": \"ANG\"\n  },\n  {\n    \"countryCode\": \"CX\",\n    \"countryName\": \"Christmas Island\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"CY\",\n    \"countryName\": \"Cyprus\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"CZ\",\n    \"countryName\": \"Czechia\",\n    \"currencyCode\": \"CZK\"\n  },\n  {\n    \"countryCode\": \"DE\",\n    \"countryName\": \"Germany\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"DJ\",\n    \"countryName\": \"Djibouti\",\n    \"currencyCode\": \"DJF\"\n  },\n  {\n    \"countryCode\": \"DK\",\n    \"countryName\": \"Denmark\",\n    \"currencyCode\": \"DKK\"\n  },\n  {\n    \"countryCode\": \"DM\",\n    \"countryName\": \"Dominica\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"DO\",\n    \"countryName\": \"Dominican Republic\",\n    \"currencyCode\": \"DOP\"\n  },\n  {\n    \"countryCode\": \"DZ\",\n    \"countryName\": \"Algeria\",\n    \"currencyCode\": \"DZD\"\n  },\n  {\n    \"countryCode\": \"EC\",\n    \"countryName\": \"Ecuador\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"EE\",\n    \"countryName\": \"Estonia\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"EG\",\n    \"countryName\": \"Egypt\",\n    \"currencyCode\": \"EGP\"\n  },\n  {\n    \"countryCode\": \"EH\",\n    \"countryName\": \"Western Sahara\",\n    \"currencyCode\": \"MAD\"\n  },\n  {\n    \"countryCode\": \"ER\",\n    \"countryName\": \"Eritrea\",\n    \"currencyCode\": \"ERN\"\n  },\n  {\n    \"countryCode\": \"ES\",\n    \"countryName\": \"Spain\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"ET\",\n    \"countryName\": \"Ethiopia\",\n    \"currencyCode\": \"ETB\"\n  },\n  {\n    \"countryCode\": \"FI\",\n    \"countryName\": \"Finland\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"FJ\",\n    \"countryName\": \"Fiji\",\n    \"currencyCode\": \"FJD\"\n  },\n  {\n    \"countryCode\": \"FK\",\n    \"countryName\": \"Falkland Islands\",\n    \"currencyCode\": \"FKP\"\n  },\n  {\n    \"countryCode\": \"FM\",\n    \"countryName\": \"Micronesia\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"FO\",\n    \"countryName\": \"Faroe Islands\",\n    \"currencyCode\": \"DKK\"\n  },\n  {\n    \"countryCode\": \"FR\",\n    \"countryName\": \"France\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"GA\",\n    \"countryName\": \"Gabon\",\n    \"currencyCode\": \"XAF\"\n  },\n  {\n    \"countryCode\": \"GB\",\n    \"countryName\": \"United Kingdom\",\n    \"currencyCode\": \"GBP\"\n  },\n  {\n    \"countryCode\": \"GD\",\n    \"countryName\": \"Grenada\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"GE\",\n    \"countryName\": \"Georgia\",\n    \"currencyCode\": \"GEL\"\n  },\n  {\n    \"countryCode\": \"GF\",\n    \"countryName\": \"French Guiana\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"GG\",\n    \"countryName\": \"Guernsey\",\n    \"currencyCode\": \"GBP\"\n  },\n  {\n    \"countryCode\": \"GH\",\n    \"countryName\": \"Ghana\",\n    \"currencyCode\": \"GHS\"\n  },\n  {\n    \"countryCode\": \"GI\",\n    \"countryName\": \"Gibraltar\",\n    \"currencyCode\": \"GIP\"\n  },\n  {\n    \"countryCode\": \"GL\",\n    \"countryName\": \"Greenland\",\n    \"currencyCode\": \"DKK\"\n  },\n  {\n    \"countryCode\": \"GM\",\n    \"countryName\": \"Gambia\",\n    \"currencyCode\": \"GMD\"\n  },\n  {\n    \"countryCode\": \"GN\",\n    \"countryName\": \"Guinea\",\n    \"currencyCode\": \"GNF\"\n  },\n  {\n    \"countryCode\": \"GP\",\n    \"countryName\": \"Guadeloupe\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"GQ\",\n    \"countryName\": \"Equatorial Guinea\",\n    \"currencyCode\": \"XAF\"\n  },\n  {\n    \"countryCode\": \"GR\",\n    \"countryName\": \"Greece\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"GS\",\n    \"countryName\": \"South Georgia and the South Sandwich Islands\",\n    \"currencyCode\": \"GBP\"\n  },\n  {\n    \"countryCode\": \"GT\",\n    \"countryName\": \"Guatemala\",\n    \"currencyCode\": \"GTQ\"\n  },\n  {\n    \"countryCode\": \"GU\",\n    \"countryName\": \"Guam\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"GW\",\n    \"countryName\": \"Guinea-Bissau\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"GY\",\n    \"countryName\": \"Guyana\",\n    \"currencyCode\": \"GYD\"\n  },\n  {\n    \"countryCode\": \"HK\",\n    \"countryName\": \"Hong Kong\",\n    \"currencyCode\": \"HKD\"\n  },\n  {\n    \"countryCode\": \"HM\",\n    \"countryName\": \"Heard Island and McDonald Islands\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"HN\",\n    \"countryName\": \"Honduras\",\n    \"currencyCode\": \"HNL\"\n  },\n  {\n    \"countryCode\": \"HR\",\n    \"countryName\": \"Croatia\",\n    \"currencyCode\": \"HRK\"\n  },\n  {\n    \"countryCode\": \"HT\",\n    \"countryName\": \"Haiti\",\n    \"currencyCode\": \"HTG\"\n  },\n  {\n    \"countryCode\": \"HU\",\n    \"countryName\": \"Hungary\",\n    \"currencyCode\": \"HUF\"\n  },\n  {\n    \"countryCode\": \"ID\",\n    \"countryName\": \"Indonesia\",\n    \"currencyCode\": \"IDR\"\n  },\n  {\n    \"countryCode\": \"IE\",\n    \"countryName\": \"Ireland\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"IL\",\n    \"countryName\": \"Israel\",\n    \"currencyCode\": \"ILS\"\n  },\n  {\n    \"countryCode\": \"IM\",\n    \"countryName\": \"Isle of Man\",\n    \"currencyCode\": \"GBP\"\n  },\n  {\n    \"countryCode\": \"IN\",\n    \"countryName\": \"India\",\n    \"currencyCode\": \"INR\"\n  },\n  {\n    \"countryCode\": \"IO\",\n    \"countryName\": \"British Indian Ocean Territory\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"IQ\",\n    \"countryName\": \"Iraq\",\n    \"currencyCode\": \"IQD\"\n  },\n  {\n    \"countryCode\": \"IR\",\n    \"countryName\": \"Iran\",\n    \"currencyCode\": \"IRR\"\n  },\n  {\n    \"countryCode\": \"IS\",\n    \"countryName\": \"Iceland\",\n    \"currencyCode\": \"ISK\"\n  },\n  {\n    \"countryCode\": \"IT\",\n    \"countryName\": \"Italy\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"JE\",\n    \"countryName\": \"Jersey\",\n    \"currencyCode\": \"GBP\"\n  },\n  {\n    \"countryCode\": \"JM\",\n    \"countryName\": \"Jamaica\",\n    \"currencyCode\": \"JMD\"\n  },\n  {\n    \"countryCode\": \"JO\",\n    \"countryName\": \"Jordan\",\n    \"currencyCode\": \"JOD\"\n  },\n  {\n    \"countryCode\": \"JP\",\n    \"countryName\": \"Japan\",\n    \"currencyCode\": \"JPY\"\n  },\n  {\n    \"countryCode\": \"KE\",\n    \"countryName\": \"Kenya\",\n    \"currencyCode\": \"KES\"\n  },\n  {\n    \"countryCode\": \"KG\",\n    \"countryName\": \"Kyrgyzstan\",\n    \"currencyCode\": \"KGS\"\n  },\n  {\n    \"countryCode\": \"KH\",\n    \"countryName\": \"Cambodia\",\n    \"currencyCode\": \"KHR\"\n  },\n  {\n    \"countryCode\": \"KI\",\n    \"countryName\": \"Kiribati\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"KM\",\n    \"countryName\": \"Comoros\",\n    \"currencyCode\": \"KMF\"\n  },\n  {\n    \"countryCode\": \"KN\",\n    \"countryName\": \"Saint Kitts and Nevis\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"KP\",\n    \"countryName\": \"North Korea\",\n    \"currencyCode\": \"KPW\"\n  },\n  {\n    \"countryCode\": \"KR\",\n    \"countryName\": \"South Korea\",\n    \"currencyCode\": \"KRW\"\n  },\n  {\n    \"countryCode\": \"KW\",\n    \"countryName\": \"Kuwait\",\n    \"currencyCode\": \"KWD\"\n  },\n  {\n    \"countryCode\": \"KY\",\n    \"countryName\": \"Cayman Islands\",\n    \"currencyCode\": \"KYD\"\n  },\n  {\n    \"countryCode\": \"KZ\",\n    \"countryName\": \"Kazakhstan\",\n    \"currencyCode\": \"KZT\"\n  },\n  {\n    \"countryCode\": \"LA\",\n    \"countryName\": \"Laos\",\n    \"currencyCode\": \"LAK\"\n  },\n  {\n    \"countryCode\": \"LB\",\n    \"countryName\": \"Lebanon\",\n    \"currencyCode\": \"LBP\"\n  },\n  {\n    \"countryCode\": \"LC\",\n    \"countryName\": \"Saint Lucia\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"LI\",\n    \"countryName\": \"Liechtenstein\",\n    \"currencyCode\": \"CHF\"\n  },\n  {\n    \"countryCode\": \"LK\",\n    \"countryName\": \"Sri Lanka\",\n    \"currencyCode\": \"LKR\"\n  },\n  {\n    \"countryCode\": \"LR\",\n    \"countryName\": \"Liberia\",\n    \"currencyCode\": \"LRD\"\n  },\n  {\n    \"countryCode\": \"LS\",\n    \"countryName\": \"Lesotho\",\n    \"currencyCode\": \"LSL\"\n  },\n  {\n    \"countryCode\": \"LT\",\n    \"countryName\": \"Lithuania\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"LU\",\n    \"countryName\": \"Luxembourg\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"LV\",\n    \"countryName\": \"Latvia\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"LY\",\n    \"countryName\": \"Libya\",\n    \"currencyCode\": \"LYD\"\n  },\n  {\n    \"countryCode\": \"MA\",\n    \"countryName\": \"Morocco\",\n    \"currencyCode\": \"MAD\"\n  },\n  {\n    \"countryCode\": \"MC\",\n    \"countryName\": \"Monaco\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"MD\",\n    \"countryName\": \"Moldova\",\n    \"currencyCode\": \"MDL\"\n  },\n  {\n    \"countryCode\": \"ME\",\n    \"countryName\": \"Montenegro\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"MF\",\n    \"countryName\": \"Saint Martin\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"MG\",\n    \"countryName\": \"Madagascar\",\n    \"currencyCode\": \"MGA\"\n  },\n  {\n    \"countryCode\": \"MH\",\n    \"countryName\": \"Marshall Islands\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"MK\",\n    \"countryName\": \"Macedonia\",\n    \"currencyCode\": \"MKD\"\n  },\n  {\n    \"countryCode\": \"ML\",\n    \"countryName\": \"Mali\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"MM\",\n    \"countryName\": \"Myanmar [Burma]\",\n    \"currencyCode\": \"MMK\"\n  },\n  {\n    \"countryCode\": \"MN\",\n    \"countryName\": \"Mongolia\",\n    \"currencyCode\": \"MNT\"\n  },\n  {\n    \"countryCode\": \"MO\",\n    \"countryName\": \"Macao\",\n    \"currencyCode\": \"MOP\"\n  },\n  {\n    \"countryCode\": \"MP\",\n    \"countryName\": \"Northern Mariana Islands\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"MQ\",\n    \"countryName\": \"Martinique\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"MR\",\n    \"countryName\": \"Mauritania\",\n    \"currencyCode\": \"MRO\"\n  },\n  {\n    \"countryCode\": \"MS\",\n    \"countryName\": \"Montserrat\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"MT\",\n    \"countryName\": \"Malta\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"MU\",\n    \"countryName\": \"Mauritius\",\n    \"currencyCode\": \"MUR\"\n  },\n  {\n    \"countryCode\": \"MV\",\n    \"countryName\": \"Maldives\",\n    \"currencyCode\": \"MVR\"\n  },\n  {\n    \"countryCode\": \"MW\",\n    \"countryName\": \"Malawi\",\n    \"currencyCode\": \"MWK\"\n  },\n  {\n    \"countryCode\": \"MX\",\n    \"countryName\": \"Mexico\",\n    \"currencyCode\": \"MXN\"\n  },\n  {\n    \"countryCode\": \"MY\",\n    \"countryName\": \"Malaysia\",\n    \"currencyCode\": \"MYR\"\n  },\n  {\n    \"countryCode\": \"MZ\",\n    \"countryName\": \"Mozambique\",\n    \"currencyCode\": \"MZN\"\n  },\n  {\n    \"countryCode\": \"NA\",\n    \"countryName\": \"Namibia\",\n    \"currencyCode\": \"NAD\"\n  },\n  {\n    \"countryCode\": \"NC\",\n    \"countryName\": \"New Caledonia\",\n    \"currencyCode\": \"XPF\"\n  },\n  {\n    \"countryCode\": \"NE\",\n    \"countryName\": \"Niger\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"NF\",\n    \"countryName\": \"Norfolk Island\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"NG\",\n    \"countryName\": \"Nigeria\",\n    \"currencyCode\": \"NGN\"\n  },\n  {\n    \"countryCode\": \"NI\",\n    \"countryName\": \"Nicaragua\",\n    \"currencyCode\": \"NIO\"\n  },\n  {\n    \"countryCode\": \"NL\",\n    \"countryName\": \"Netherlands\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"NO\",\n    \"countryName\": \"Norway\",\n    \"currencyCode\": \"NOK\"\n  },\n  {\n    \"countryCode\": \"NP\",\n    \"countryName\": \"Nepal\",\n    \"currencyCode\": \"NPR\"\n  },\n  {\n    \"countryCode\": \"NR\",\n    \"countryName\": \"Nauru\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"NU\",\n    \"countryName\": \"Niue\",\n    \"currencyCode\": \"NZD\"\n  },\n  {\n    \"countryCode\": \"NZ\",\n    \"countryName\": \"New Zealand\",\n    \"currencyCode\": \"NZD\"\n  },\n  {\n    \"countryCode\": \"OM\",\n    \"countryName\": \"Oman\",\n    \"currencyCode\": \"OMR\"\n  },\n  {\n    \"countryCode\": \"PA\",\n    \"countryName\": \"Panama\",\n    \"currencyCode\": \"PAB\"\n  },\n  {\n    \"countryCode\": \"PE\",\n    \"countryName\": \"Peru\",\n    \"currencyCode\": \"PEN\"\n  },\n  {\n    \"countryCode\": \"PF\",\n    \"countryName\": \"French Polynesia\",\n    \"currencyCode\": \"XPF\"\n  },\n  {\n    \"countryCode\": \"PG\",\n    \"countryName\": \"Papua New Guinea\",\n    \"currencyCode\": \"PGK\"\n  },\n  {\n    \"countryCode\": \"PH\",\n    \"countryName\": \"Philippines\",\n    \"currencyCode\": \"PHP\"\n  },\n  {\n    \"countryCode\": \"PK\",\n    \"countryName\": \"Pakistan\",\n    \"currencyCode\": \"PKR\"\n  },\n  {\n    \"countryCode\": \"PL\",\n    \"countryName\": \"Poland\",\n    \"currencyCode\": \"PLN\"\n  },\n  {\n    \"countryCode\": \"PM\",\n    \"countryName\": \"Saint Pierre and Miquelon\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"PN\",\n    \"countryName\": \"Pitcairn Islands\",\n    \"currencyCode\": \"NZD\"\n  },\n  {\n    \"countryCode\": \"PR\",\n    \"countryName\": \"Puerto Rico\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"PS\",\n    \"countryName\": \"Palestine\",\n    \"currencyCode\": \"ILS\"\n  },\n  {\n    \"countryCode\": \"PT\",\n    \"countryName\": \"Portugal\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"PW\",\n    \"countryName\": \"Palau\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"PY\",\n    \"countryName\": \"Paraguay\",\n    \"currencyCode\": \"PYG\"\n  },\n  {\n    \"countryCode\": \"QA\",\n    \"countryName\": \"Qatar\",\n    \"currencyCode\": \"QAR\"\n  },\n  {\n    \"countryCode\": \"RE\",\n    \"countryName\": \"R\\u00c3\\u00a9union\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"RO\",\n    \"countryName\": \"Romania\",\n    \"currencyCode\": \"RON\"\n  },\n  {\n    \"countryCode\": \"RS\",\n    \"countryName\": \"Serbia\",\n    \"currencyCode\": \"RSD\"\n  },\n  {\n    \"countryCode\": \"RU\",\n    \"countryName\": \"Russia\",\n    \"currencyCode\": \"RUB\"\n  },\n  {\n    \"countryCode\": \"RW\",\n    \"countryName\": \"Rwanda\",\n    \"currencyCode\": \"RWF\"\n  },\n  {\n    \"countryCode\": \"SA\",\n    \"countryName\": \"Saudi Arabia\",\n    \"currencyCode\": \"SAR\"\n  },\n  {\n    \"countryCode\": \"SB\",\n    \"countryName\": \"Solomon Islands\",\n    \"currencyCode\": \"SBD\"\n  },\n  {\n    \"countryCode\": \"SC\",\n    \"countryName\": \"Seychelles\",\n    \"currencyCode\": \"SCR\"\n  },\n  {\n    \"countryCode\": \"SD\",\n    \"countryName\": \"Sudan\",\n    \"currencyCode\": \"SDG\"\n  },\n  {\n    \"countryCode\": \"SE\",\n    \"countryName\": \"Sweden\",\n    \"currencyCode\": \"SEK\"\n  },\n  {\n    \"countryCode\": \"SG\",\n    \"countryName\": \"Singapore\",\n    \"currencyCode\": \"SGD\"\n  },\n  {\n    \"countryCode\": \"SH\",\n    \"countryName\": \"Saint Helena\",\n    \"currencyCode\": \"SHP\"\n  },\n  {\n    \"countryCode\": \"SI\",\n    \"countryName\": \"Slovenia\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"SJ\",\n    \"countryName\": \"Svalbard and Jan Mayen\",\n    \"currencyCode\": \"NOK\"\n  },\n  {\n    \"countryCode\": \"SK\",\n    \"countryName\": \"Slovakia\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"SL\",\n    \"countryName\": \"Sierra Leone\",\n    \"currencyCode\": \"SLL\"\n  },\n  {\n    \"countryCode\": \"SM\",\n    \"countryName\": \"San Marino\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"SN\",\n    \"countryName\": \"Senegal\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"SO\",\n    \"countryName\": \"Somalia\",\n    \"currencyCode\": \"SOS\"\n  },\n  {\n    \"countryCode\": \"SR\",\n    \"countryName\": \"Suriname\",\n    \"currencyCode\": \"SRD\"\n  },\n  {\n    \"countryCode\": \"SS\",\n    \"countryName\": \"South Sudan\",\n    \"currencyCode\": \"SSP\"\n  },\n  {\n    \"countryCode\": \"ST\",\n    \"countryName\": \"S\\u00c3\\u00a3o Tom\\u00c3\\u00a9 and Pr\\u00c3\\u00adncipe\",\n    \"currencyCode\": \"STD\"\n  },\n  {\n    \"countryCode\": \"SV\",\n    \"countryName\": \"El Salvador\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"SX\",\n    \"countryName\": \"Sint Maarten\",\n    \"currencyCode\": \"ANG\"\n  },\n  {\n    \"countryCode\": \"SY\",\n    \"countryName\": \"Syria\",\n    \"currencyCode\": \"SYP\"\n  },\n  {\n    \"countryCode\": \"SZ\",\n    \"countryName\": \"Swaziland\",\n    \"currencyCode\": \"SZL\"\n  },\n  {\n    \"countryCode\": \"TC\",\n    \"countryName\": \"Turks and Caicos Islands\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"TD\",\n    \"countryName\": \"Chad\",\n    \"currencyCode\": \"XAF\"\n  },\n  {\n    \"countryCode\": \"TF\",\n    \"countryName\": \"French Southern Territories\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"TG\",\n    \"countryName\": \"Togo\",\n    \"currencyCode\": \"XOF\"\n  },\n  {\n    \"countryCode\": \"TH\",\n    \"countryName\": \"Thailand\",\n    \"currencyCode\": \"THB\"\n  },\n  {\n    \"countryCode\": \"TJ\",\n    \"countryName\": \"Tajikistan\",\n    \"currencyCode\": \"TJS\"\n  },\n  {\n    \"countryCode\": \"TK\",\n    \"countryName\": \"Tokelau\",\n    \"currencyCode\": \"NZD\"\n  },\n  {\n    \"countryCode\": \"TL\",\n    \"countryName\": \"East Timor\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"TM\",\n    \"countryName\": \"Turkmenistan\",\n    \"currencyCode\": \"TMT\"\n  },\n  {\n    \"countryCode\": \"TN\",\n    \"countryName\": \"Tunisia\",\n    \"currencyCode\": \"TND\"\n  },\n  {\n    \"countryCode\": \"TO\",\n    \"countryName\": \"Tonga\",\n    \"currencyCode\": \"TOP\"\n  },\n  {\n    \"countryCode\": \"TR\",\n    \"countryName\": \"Turkey\",\n    \"currencyCode\": \"TRY\"\n  },\n  {\n    \"countryCode\": \"TT\",\n    \"countryName\": \"Trinidad and Tobago\",\n    \"currencyCode\": \"TTD\"\n  },\n  {\n    \"countryCode\": \"TV\",\n    \"countryName\": \"Tuvalu\",\n    \"currencyCode\": \"AUD\"\n  },\n  {\n    \"countryCode\": \"TW\",\n    \"countryName\": \"Taiwan\",\n    \"currencyCode\": \"TWD\"\n  },\n  {\n    \"countryCode\": \"TZ\",\n    \"countryName\": \"Tanzania\",\n    \"currencyCode\": \"TZS\"\n  },\n  {\n    \"countryCode\": \"UA\",\n    \"countryName\": \"Ukraine\",\n    \"currencyCode\": \"UAH\"\n  },\n  {\n    \"countryCode\": \"UG\",\n    \"countryName\": \"Uganda\",\n    \"currencyCode\": \"UGX\"\n  },\n  {\n    \"countryCode\": \"UM\",\n    \"countryName\": \"U.S. Minor Outlying Islands\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"US\",\n    \"countryName\": \"United States\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"UY\",\n    \"countryName\": \"Uruguay\",\n    \"currencyCode\": \"UYU\"\n  },\n  {\n    \"countryCode\": \"UZ\",\n    \"countryName\": \"Uzbekistan\",\n    \"currencyCode\": \"UZS\"\n  },\n  {\n    \"countryCode\": \"VA\",\n    \"countryName\": \"Vatican City\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"VC\",\n    \"countryName\": \"Saint Vincent and the Grenadines\",\n    \"currencyCode\": \"XCD\"\n  },\n  {\n    \"countryCode\": \"VE\",\n    \"countryName\": \"Venezuela\",\n    \"currencyCode\": \"VEF\"\n  },\n  {\n    \"countryCode\": \"VG\",\n    \"countryName\": \"British Virgin Islands\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"VI\",\n    \"countryName\": \"U.S. Virgin Islands\",\n    \"currencyCode\": \"USD\"\n  },\n  {\n    \"countryCode\": \"VN\",\n    \"countryName\": \"Vietnam\",\n    \"currencyCode\": \"VND\"\n  },\n  {\n    \"countryCode\": \"VU\",\n    \"countryName\": \"Vanuatu\",\n    \"currencyCode\": \"VUV\"\n  },\n  {\n    \"countryCode\": \"WF\",\n    \"countryName\": \"Wallis and Futuna\",\n    \"currencyCode\": \"XPF\"\n  },\n  {\n    \"countryCode\": \"WS\",\n    \"countryName\": \"Samoa\",\n    \"currencyCode\": \"WST\"\n  },\n  {\n    \"countryCode\": \"XK\",\n    \"countryName\": \"Kosovo\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"YE\",\n    \"countryName\": \"Yemen\",\n    \"currencyCode\": \"YER\"\n  },\n  {\n    \"countryCode\": \"YT\",\n    \"countryName\": \"Mayotte\",\n    \"currencyCode\": \"EUR\"\n  },\n  {\n    \"countryCode\": \"ZA\",\n    \"countryName\": \"South Africa\",\n    \"currencyCode\": \"ZAR\"\n  },\n  {\n    \"countryCode\": \"ZM\",\n    \"countryName\": \"Zambia\",\n    \"currencyCode\": \"ZMW\"\n  },\n  {\n    \"countryCode\": \"ZW\",\n    \"countryName\": \"Zimbabwe\",\n    \"currencyCode\": \"ZWL\"\n  }\n]", "type": "text"}, {"name": "exchange_rate.py", "content": "import pyodide.http\nfrom bs4 import BeautifulSoup as BS\nimport pandas\nimport re\n\n\nasync def scrape_currency_conversion(curr_from, curr_to, amount):\n    # curr_from: three letter string representing the currency to convert from\n    # curr_to: three letter string representing the currency to convert to\n    # date: string in YYYY-MM-DD format\n    # amount: string representing the starting amount of currency\n\n    # make the url to scrape from the input\n    scrape_url = f\"https://currencyconvert.online/{curr_from}/{curr_to}/table\"\n\n    # keep on requesting until the response code is 200 (i.e. a valid response)\n    response = 0\n\n    while response != 200:\n        # request the info from the page\n        page = await pyodide.http.pyfetch(scrape_url)\n        response = page.status\n\n    # parse the page with beautifulsoup\n    soup = BS(await page.string(), \"html.parser\")\n\n    # find the resulting conversion value\n    value = str(soup.find(\"table\", {\"id\": \"table1-history\"}))\n\n    # create a dictionary to store the dataframe\n    table = {\"Date\": [], \"Price\": []}\n\n    table[\"Date\"] = re.findall(r'(?<!<span class=\"d-lg-none\")\\d{2}/\\d{2}/\\d{4}(?=</span>)',\n                               value)\n\n    table[\"Price\"] = re.findall(r'(?<!<td class=\"exchange-rate text-truncate text-right\")\\d+\\.\\d+(?=\\s*[A-Z]{3})',\n                                value)\n\n    table[\"Price\"] = [float(ele) for ele in table[\"Price\"]]\n\n    if len(table[\"Date\"]) > len(table[\"Price\"]):\n        table[\"Date\"] = table[\"Date\"][0:len(table[\"Price\"])]\n    elif len(table[\"Date\"]) < len(table[\"Price\"]):\n        table[\"Price\"] = table[\"Price\"][0:len(table[\"Date\"])]\n\n    table = pandas.DataFrame.from_dict(table)\n\n    table[\"Price\"] = table[\"Price\"].apply(lambda x: x*amount)\n    table['Date'] = pandas.to_datetime(table['Date'], dayfirst=True)\n\n    return table\n", "type": "text"}, {"name": "requirements.txt", "content": "beautifulsoup4\npandas\nnumpy\nmatplotlib\nemoji-country-flag\n\n\n", "type": "text"}, {"name": "styles.css", "content": "@import url('https://fonts.googleapis.com/css?family=League Spartan');\n\n#screen {\n    height:100vh\n    \n}\n\n#header {\n    display:flex;\n    background-color:#458f69;\n    font-family:\"League Spartan\", sans-serif;\n    font-weight: 100;\n}", "type": "text"}]